@using Microsoft.AspNetCore.Identity
@using GreenMaps.Areas.Identity.Data
@inject SignInManager<Usuario> SignInManager
@inject UserManager<Usuario> UserManager

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - GreenMaps</title>
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="~/css/site.css" />
    <link rel="stylesheet" href="~/css/mapa.css" />
    <link rel="stylesheet" href="~/css/sidebar.css" />
    @* Bootstrap Select *@
    <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/css/bootstrap-select.min.css">

    @* Link para referenciar biblioteca de mapas *@
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
        integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
        crossorigin="" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.3.0/dist/MarkerCluster.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.3.0/dist/MarkerCluster.Default.css" />
    @* Script para referenciar biblioteca de mapas *@
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
        integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
        crossorigin=""></script>
    <script src="https://unpkg.com/leaflet.markercluster@1.3.0/dist/leaflet.markercluster.js"></script>
</head>

<body>
    <header>
        <i class="bi bi-list open-nav" onclick="openNav()"></i>
        <div class="sidenav" id="mySidenav">
            <a onclick="closeNav()"><i class="bi bi-x-lg icon closeNav"></i></a>
            <a onclick="location.href='@Url.Action("Index","Home")'"><i class="bi bi-map-fill icon"
                    id="map-nav"></i></a>
            <a onclick="location.href='@Url.Action("Criar","PontoColeta")'"><i class="bi bi-recycle icon"
                    id="ponto-nav"></i></a>
            <a onclick="location.href='@Url.Action("Index","Rank")'"><i class="bi bi-trophy-fill icon"
                    id="rank-nav"></i></a>
            <a asp-page="/Account/Manage/Index" asp-area="Identity"><i class="bi bi-person-fill icon"></i></a>
            @if (SignInManager.IsSignedIn(User))
            {
                <a asp-page="/Account/Logout" asp-area="Identity"><i class="bi bi-door-closed-fill icon"></i></a>
            }
        </div>
    </header>
    <div class="">
        <main role="main" class="pb-3">
            @RenderBody()
        </main>
    </div>

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/site.js" asp-append-version="true"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js"></script>
    <script>
        function openNav()
        {
            document.getElementById("mySidenav").style.width = "90px";
        }

        function closeNav()
        {
            document.getElementById("mySidenav").style.width = "0px";
        }
    </script>
    @await RenderSectionAsync("Scripts", required: false)
</body>

</html>
